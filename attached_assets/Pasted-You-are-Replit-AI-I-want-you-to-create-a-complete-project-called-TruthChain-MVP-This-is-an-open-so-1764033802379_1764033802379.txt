You are Replit AI.
I want you to create a complete project called TruthChain MVP.
This is an open-source decentralized news verification prototype.

ğŸ‘‡ Build EVERYTHING automatically following this exact specification:

ğŸ“Œ PROJECT GOAL

A minimal MVP that allows users to:

Upload an image or video + short text.

Upload the file to IPFS (use Web3.Storage API).

Generate a SHA-256 hash of the entire â€œnews packageâ€.

Store the record locally in SQLite.

Record the hash + IPFS CID on the blockchain (Polygon testnet using ethers.js + a simple contract).

Provide a clean frontend UI to submit and view verified news.

Provide REST API to fetch all verified entries.

Include a production-ready README.md explaining everything.

ğŸ“¦ TECHNOLOGY STACK

Backend: Node.js + Express
Frontend: Simple HTML/CSS/JS (served by Express â€œpublicâ€ folder)
Database: SQLite (using better-sqlite3)
Blockchain: Polygon Amoy Testnet using ethers.js
Storage: IPFS via web3.storage
Smart Contract: Minimal contract with a function storeRecord(bytes32 hash, string memory cid)
Deploy it automatically via scripts folder.

ğŸ“ FILE STRUCTURE

Create this exact structure:

truthchain/
 â”œâ”€ package.json
 â”œâ”€ server.js
 â”œâ”€ config.js
 â”œâ”€ db.js
 â”œâ”€ routes/
 â”‚   â”œâ”€ upload.js
 â”‚   â””â”€ records.js
 â”œâ”€ public/
 â”‚   â”œâ”€ index.html
 â”‚   â”œâ”€ style.css
 â”‚   â””â”€ app.js
 â”œâ”€ scripts/
 â”‚   â”œâ”€ contract.sol
 â”‚   â”œâ”€ deploy.js
 â”œâ”€ README.md

ğŸ”§ REQUIRED FEATURES (VERY IMPORTANT)
âœ” Backend

POST /api/upload â†’ receives: text + file

Upload file to IPFS via web3.storage

Compute SHA-256 hash of:

text

IPFS CID

timestamp

Insert into SQLite

Call smart contract function to store hash + cid

Return JSON { success, hash, cid, txHash }

âœ” Frontend

Index page must have:

text input

file input

submit button

table that loads all existing verified records using /api/records

Use basic fetch() API.

âœ” IPFS Support

Use Web3.Storage SDK.
Create config.js with environment variables:

WEB3_STORAGE_TOKEN=your_token_here
PRIVATE_KEY=your_polygon_wallet


(do not hardcode secret values)

âœ” Blockchain

Create a minimal Solidity contract:

contract TruthChain {
    event RecordStored(bytes32 hash, string cid);
    function storeRecord(bytes32 hash, string memory cid) public {
        emit RecordStored(hash, cid);
    }
}


Deploy using ethers.js + Hardhat (or simple script).

âœ” Database

Create SQLite table:

id INTEGER PRIMARY KEY AUTOINCREMENT
text TEXT
cid TEXT
hash TEXT
tx TEXT
timestamp DATETIME

âœ” API Routes

GET /api/records â†’ list all records

POST /api/upload â†’ create new record

âœ” README.md

Explain:

What is TruthChain

How the MVP works

How to run it

How to contribute

Roadmap items

License MIT

ğŸ¨ UI Requirements

Minimal clean UI:

centered container

title â€œTruthChain â€” Decentralized News Verification MVPâ€

form for text + file

table for news list

green/blue theme

ğŸš€ FINAL STEP

After generating all files:

Run the server

Ensure frontend works

Ensure file upload works

Ensure IPFS upload returns CID

Save at least one example record

Respond: â€œTruthChain MVP fully generated.â€